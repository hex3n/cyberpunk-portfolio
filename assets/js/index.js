var S=[],At=(t)=>{if("touches"in t)return{clientX:t.touches[0]?.pageX,clientY:t.touches[0]?.pageY};else return{clientX:t.pageX,clientY:t.pageY}},$=(t)=>{let e={value:t,isDragging:!1,isResizing:!1,startX:0,startY:0,startLeft:0,startTop:0};e.value.onmousedown=(o)=>{if(e.isResizing)return;Vt(o,e)},e.value.addEventListener("mousedown",(o)=>{let r=e.value.getBoundingClientRect(),s=20;if(o.pageX>r.right-20&&o.pageY>r.bottom-20)e.isResizing=!0}),S.push(e)};function Vt(t,e){let{clientX:o,clientY:r}=At(t);if(!o||!r)return;e.isDragging=!0,e.startX=o,e.startY=r,e.startLeft=parseInt(e.value.style.left||"0",10),e.startTop=parseInt(e.value.style.top||"0",10),e.value.style.cursor="grabbing",e.value.style.userSelect="none"}var U=()=>{S.forEach((t)=>{document.addEventListener("mousemove",(e)=>{if(t.isResizing||!t.isDragging)return;let o=t.startLeft+(e.pageX-t.startX),r=t.startTop+(e.pageY-t.startY);t.value.style.left=`${o}px`,t.value.style.top=`${r}px`}),document.addEventListener("mouseup",()=>{t.isDragging=!1,t.isResizing=!1,t.value.style.cursor="",t.value.style.userSelect="",document.body.style.userSelect=""})})};var H=document.getElementById("winamp"),c=document.getElementById("winamp-audio"),w=document.getElementById("winamp-graph"),tt=document.getElementById("winamp-resume"),et=document.getElementById("winamp-pause"),ot=document.getElementById("winamp-prev"),rt=document.getElementById("winamp-next"),O=document.getElementById("winamp-track-name"),C=document.getElementById("winamp-shuffle"),T=document.getElementById("winamp-repeat"),st=document.getElementById("winamp-progress"),nt=document.getElementById("winamp-trigger");var I=["bg1.mp3","bg2.mp3","bg3.mp3"];function F(t,e,o){e-=1;let r=Math.ceil(t),s=Math.floor(e),n=s-r+1;if(n<=1&&o>=r&&o<=s)throw Error("No valid numbers available in the given range excluding the specified value.");let l;do l=Math.floor(Math.random()*n)+r;while(l===o);return l}var mt="assets/storage/mp3/",g={val:0},d={val:!1},E={val:!1},lt=()=>{if(d.val)return B();if(E.val)g.val=F(0,I.length,g.val);else g.val=(g.val+1)%I.length;return B()},ct=()=>{if(d.val)return B();if(E.val)g.val=F(0,I.length,g.val);else if(g.val=g.val-1,g.val<0)g.val=I.length-1;return B()},at=()=>{E.val=!E.val,d.val=!1},pt=()=>{d.val=!d.val,E.val=!1},B=()=>{let t=I[g.val];if(!t)return console.error("No track :(",g.val),mt+"error.mp3";return mt+t},A=()=>{let t=I[g.val];if(!t)return console.error("No track :("),"error.mp3";return t};var k=64,K=new window.AudioContext,Wt=K.createMediaElementSource(c),z=K.createAnalyser(),P=z.frequencyBinCount,it=new Uint8Array(P),ft=new Float32Array(k);z.fftSize=2048;z.smoothingTimeConstant=0.7;Wt.connect(z);z.connect(K.destination);for(let t=0;t<k;t++){let e=document.createElement("div");e.classList.add("bar"),e.style.flex="1",e.style.background=`hsl(${t/k*360}, 70%, 50%)`,e.style.height="0%",w.appendChild(e)}var Gt=w.querySelectorAll(".bar");function gt(){z.getByteFrequencyData(it);for(let t=0;t<k;t++){let e=Math.floor(t*P/k),o=Math.max(e+1,Math.floor((t+1)*P/k)),r=0;for(let p=e;p<o;p++)r+=it[p];let s=r/(o-e)/255,n=Math.pow(s,1.3)*100,l=ft[t]*0.6+n*0.4;ft[t]=l,Gt[t].style.height=`${l}%`}requestAnimationFrame(gt)}function ut(t){c.src=t,c.load(),c.play()}function q(){T.classList.toggle("bg-blue-600",d.val),T.classList.toggle("hover:bg-blue-700",d.val),T.classList.toggle("bg-gray-700",!d.val),T.classList.toggle("hover:bg-gray-600",!d.val),C.classList.toggle("bg-green-700",E.val),C.classList.toggle("hover:bg-green-900",E.val),C.classList.toggle("bg-gray-500",!E.val),C.classList.toggle("hover:bg-gray-600",!E.val)}c.addEventListener("play",()=>{if(K.state==="suspended")K.resume();gt()});tt.onclick=()=>c.play();et.onclick=()=>c.pause();ot.onclick=()=>{ut(ct()),O.innerHTML=A()};rt.onclick=()=>{ut(lt()),O.innerHTML=A()};T.onclick=()=>{pt(),T.classList.add("transition-colors"),q()};C.onclick=()=>{at(),C.classList.add("transition-colors"),q()};var dt=document.getElementById("winamp-progress");c.addEventListener("timeupdate",()=>{if(c.duration){let t=c.currentTime/c.duration*100;dt.style.width=`${t}%`}});var L=st.parentElement,M=!1;function J(t){let e=L.getBoundingClientRect(),o=t-e.left,r=Math.max(0,Math.min(1,o/e.width));c.currentTime=r*c.duration,dt.style.width=`${r*100}%`}L.addEventListener("mousedown",()=>{M=!0});L.addEventListener("mousemove",(t)=>{if(M)J(t.clientX)});L.addEventListener("mouseup",()=>{M=!1});L.addEventListener("mouseleave",()=>{M=!1});L.addEventListener("touchstart",(t)=>{if(M=!0,t.touches.length>0&&t.touches[0])J(t.touches[0].clientX)},{passive:!1});L.addEventListener("touchmove",(t)=>{if(M&&t.touches.length>0&&t.touches[0])J(t.touches[0].clientX)},{passive:!1});L.addEventListener("touchend",()=>{M=!1});c.src=B();c.load();O.innerHTML=A();q();var _t=document.getElementById("current-time"),wt=document.getElementById("total-time");function Et(t){let e=Math.floor(t/60).toString().padStart(2,"0"),o=Math.floor(t%60).toString().padStart(2,"0");return`${e}:${o}`}c.addEventListener("timeupdate",()=>{_t.textContent=Et(c.currentTime)});c.addEventListener("loadedmetadata",()=>{wt.textContent=Et(c.duration)});var Ft=()=>{H.classList.remove("open"),H.classList.add("close"),Z=!1},Pt=()=>{H.classList.remove("hidden"),H.classList.remove("close"),H.classList.add("open"),Z=!0},Z=!1;nt.onclick=()=>{if(Z)Ft();else Pt()};$(H);var f=document.getElementById("terminal-input"),j=document.getElementById("terminal-input-row"),b=document.getElementById("autocomplete"),y=document.getElementById("terminal-body"),D=document.getElementById("terminal-window"),yt=document.getElementById("terminal-btn-close"),xt=document.getElementById("terminal-trigger");var a=(t)=>{let e=Array.isArray(t)?t:[t];for(let o of e){let r=document.createElement("p");r.className="terminal-line",r.textContent=`${o}`,y.appendChild(r)}};var vt={name:"help",exec:()=>{return a(["help","ls","cd ( doesnt work yet )","slowking","echo","clear","history"]),0}};var R=new Map([["PATH","/aswsome/binaries"],["HOME","/Rakeli/Home"],["WORKING_DIR","/Rakeli/Home"],["EXIT_CODE",0]]);var Lt={name:"echo",exec:(t)=>{if(!t||t.length<2)return 1;let e=t.slice(1).join(" "),o=t[1];switch(o){case"$?":{let r=R.get("EXIT_CODE");return a(String(r)),0}default:if(o?.startsWith("$")){let r=o.slice(1),s=R.get(r);if(s!==void 0)return a(String(s)),0;else return a(`No such variable: ${r}`),1}}return a(e),0}};var ht={name:"ls",exec:()=>{return a(["Pages on this Website:","About_Me","Writeups","Projects","Home"]),0}};var Ht={name:"cd",exec:()=>{return 0}};var Ct={name:"slowking",exec:()=>{return a("Thats Me!"),0}};var V={name:"clear",exec:(t)=>{if(!y||!t)return 0;let e=2,o=e+1+(t[0]==="clear"?1:0);while(y.children.length>o){let r=y.children[e];if(!r)break;y?.removeChild(r)}return 0}};var x=[],v=0,qt=100,Tt=(t)=>{if(x[x.length-1]===t)return;if(x.length===qt)x.shift();x.push(t),v=x.length},It=()=>{if(v--,v<0)v=0;return x[v]},Mt=()=>{if(v++,v>x.length){v--;return}return x[v]},bt=()=>{return x};var Dt={name:"history",exec:()=>{return a(bt()),0}};var W=[vt,Lt,ht,Ht,Ct,V,Dt];var Jt=(t)=>{let e={children:new Map};for(let o of t){let r=e;for(let s of o.name){if(!r.children.has(s))r.children.set(s,{children:new Map});r=r.children.get(s)}r.command=o}return e},Bt=(t)=>{if(!t||N===null)return[];let e=N;for(let s of t){let n=e.children.get(s);if(!n)return[];e=n}function o(s){if(s.command?.name.startsWith(t))return s.command.name;if(s.line?.startsWith(t))return s.line;for(let n of s.children.values()){let l=o(n);if(l)return l}return}let r=o(e);return r?[r]:[]},kt=(t)=>{if(!t||N===null)return;let e=N;for(let o of t){let r=e.children.get(o);if(!r)return;e=r}return e.command?.name===t?e.command:void 0},zt=(t,e=N)=>{let o=e;for(let r of t){if(!o.children.has(r))o.children.set(r,{children:new Map});o=o.children.get(r)}o.line=t},N=Jt(W);var G=()=>{y.removeChild(j),y.appendChild(j),f.focus()};var Yt=(t,e)=>{if(t===e)return 0;let o=t.length,r=e.length;if(o===0||r===0)return o+r;let s=0,n,l,p,i,m,u,h,Y,X=Array(o);for(n=0;n<o;)X[n]=++n;for(;s+3<r;s+=4){let _=e.charCodeAt(s),Nt=e.charCodeAt(s+1),$t=e.charCodeAt(s+2),Ot=e.charCodeAt(s+3);i=s,p=s+1,m=s+2,u=s+3,h=s+4;for(n=0;n<o;n++){if(Y=t.charCodeAt(n),l=X[n],l<i||p<i)i=l>p?p+1:l+1;else if(_!==Y)i++;if(i<p||m<p)p=i>m?m+1:i+1;else if(Nt!==Y)p++;if(p<m||u<m)m=p>u?u+1:p+1;else if($t!==Y)m++;if(m<u||h<u)u=m>h?h+1:m+1;else if(Ot!==Y)u++;X[n]=h=u,u=m,m=p,p=i,i=l}}for(;s<r;){let _=e.charCodeAt(s);i=s,m=++s;for(n=0;n<o;n++){if(l=X[n],l<i||m<i)m=l>m?m+1:l+1;else if(_!==t.charCodeAt(n))m=i+1;else m=i;X[n]=m,i=l}h=m}return h};var Xt=(t)=>{let e={};return W.forEach((o)=>{let r=Yt(t,o.name);if(!e.name||!e.distance||e.distance>r)e.name=o.name,e.distance=r;return}),e.name};f.addEventListener("keydown",(t)=>{if(t.ctrlKey&&t.key.toLowerCase()==="l"){t.preventDefault(),V.exec(["shortcut"]);return}switch(t.key){case"Enter":{let e=f.value,o=e.split(" ");if(!e||!o||!o[0]){a("No detectable input ;-;"),G(),f.value="";break}let r=kt(o[0]);if(a("> "+e),Tt(e),zt(e),!r){let s=Xt(o[0]);if(!s)a("Command doesn't exist :(");else a(["Command doesn't exist, did you mean:",s]);G(),f.value="";break}R.set("EXIT_CODE",r.exec(o)),G(),f.value="";break}case"ArrowRight":{let e=b.textContent?.trim();if(e&&e.startsWith(f.value))f.value=e,b.innerHTML="";break}case"ArrowUp":{t.preventDefault();let e=It();if(b.innerHTML="",!e)break;f.value=e,f.setSelectionRange(e.length,e.length);break}case"ArrowDown":{let e=Mt();if(b.innerHTML="",!e){f.value="";break}f.value=e,f.setSelectionRange(e.length,e.length);break}default:{let e=f.value+t.key,o=Bt(e);if(o.length===0||!o[0]){b.innerHTML="";break}let r=o[0];b.innerHTML=r;break}}});document.addEventListener("keydown",(t)=>{if(t.ctrlKey&&t.key&&t.key.toLowerCase()==="n")t.preventDefault(),Rt()});var Kt=()=>{D.classList.remove("open"),D.classList.add("close"),Q=!1};yt.onclick=Kt;var Rt=()=>{D.classList.remove("hidden"),D.classList.remove("close"),D.classList.add("open"),Q=!0},Q=!1;xt.onclick=()=>{if(Q)Kt();else Rt()};$(D);U();export{D as terminalWindow,xt as terminalTrigger,j as terminalInputRow,f as terminalInput,yt as terminalBtnClose,y as terminalBody,b as autocomplete};
